parameters:
  - name: packerConfigFile
    type: string

steps:
- pwsh: |
    packer init
  displayName: Packer Init
  
- pwsh: |
    packer fmt -recursive -check .
  displayName: Packer Format

- pwsh: |
    $packerFile = "${{ parameters.packerConfigFile }}"
    packer validate $packerFile
  displayName: Packer Validate
